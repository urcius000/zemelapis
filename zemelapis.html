<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lietuvos žemėlapis – Panevėžys</title>
  <style>
    :root{ --grey:#bdbdbd; --stroke:#424242; --green:#1e8e3e; }
    html,body{ margin:0; background:#fff; font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif; color:#000; }
    .map{ position:relative }
    .map svg{ display:block; width:100%; height:auto; background:#fff }
    .region{ fill:var(--grey) !important; stroke:var(--stroke) !important; stroke-width:1 !important; }
    .region-panevezys{ fill:var(--green) !important; }
    .tooltip{
      position:absolute; transform:translate(-9999px,-9999px);
      background:#000; color:#fff; padding:6px 10px; border-radius:6px;
      font-size:13px; white-space:nowrap; pointer-events:none
    }
  </style>
</head>
<body>
  <div class="map" id="lt-map">
    <div id="svg-host" style="min-height:480px;display:flex;align-items:center;justify-content:center">Kraunamas žemėlapis…</div>
    <div class="tooltip" id="tooltip"></div>
  </div>

  <script>
    // Stabilus failo kelias per Special:FilePath
    const SVG_URL = 'https://commons.wikimedia.org/wiki/Special:FilePath/Lithuania_adm_location_map.svg?original=1';

    // Galimi <title> pavadinimai Panevėžiui (kaip būna SVG viduje)
    const PANEVEZYS_TITLES = [
      'Panevėžio m. sav.',
      'Panevėžys city municipality',
      'Panevezio m. sav.',
      'Panevezys city municipality'
    ];

    (async function(){
      const host = document.getElementById('svg-host');
      const tip  = document.getElementById('tooltip');

      let svgText;
      try{
        const res = await fetch(SVG_URL, {mode:'cors', cache:'no-store'});
        if(!res.ok) throw new Error('HTTP '+res.status);
        svgText = await res.text();
      }catch(e){
        host.textContent = 'Nepavyko užkrauti SVG: '+e.message;
        return;
      }

      host.innerHTML = svgText;
      const svg = host.querySelector('svg');
      if(!svg){ host.textContent = 'SVG nerastas'; return; }

      // (Jei yra legendų ar tekstų – pašalinam. Šitam faile paprastai jų nėra.)
      svg.querySelectorAll('rect[data-legend], text[data-legend]').forEach(el=>el.remove());

      // Perdažom VISUS geometrijos elementus pilkai, Panevėžį – žaliai
      let panevezysEl = null;
      const shapes = Array.from(svg.querySelectorAll('path, polygon, polyline'));
      shapes.forEach(el=>{
        el.removeAttribute('fill'); // nuimam galimas inline spalvas
        el.classList.add('region');
        const t = (el.querySelector('title')?.textContent || el.getAttribute('title') || '').trim();
        if (PANEVEZYS_TITLES.includes(t)) {
          el.classList.add('region-panevezys');
          panevezysEl = el;
        }
      });

      // Tooltip „Mediena“ – tik Panevėžiui
      if (panevezysEl) {
        panevezysEl.addEventListener('mousemove', e=>{
          const b = host.getBoundingClientRect();
          tip.textContent = 'Mediena';
          tip.style.transform = `translate(${e.clientX - b.left + 12}px, ${e.clientY - b.top - 10}px)`;
        });
        panevezysEl.addEventListener('mouseleave', ()=> tip.style.transform = 'translate(-9999px,-9999px)');
      }
    })();
  </script>
</body>
</html>





