<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Lietuvos žemėlapis</title>
  <style>
    :root{ --grey:#bdbdbd; --stroke:#424242; --green:#1e8e3e; }
    body{margin:0;background:#111;font-family:sans-serif;color:#fff}
    .map svg{display:block;width:100%;height:auto;background:#111}
    .region{fill:var(--grey) !important; stroke:var(--stroke) !important; stroke-width:1 !important;}
    .region-panevezys{fill:var(--green) !important;}
    .tooltip{position:absolute;transform:translate(-9999px,-9999px);background:#000;padding:6px 10px;border-radius:6px;font-size:13px;pointer-events:none;white-space:nowrap}
  </style>
</head>
<body>
  <div class="map" id="lt-map">
    <div id="svg-host" style="min-height:420px;display:flex;align-items:center;justify-content:center">Kraunamas žemėlapis…</div>
    <div class="tooltip" id="tooltip"></div>
  </div>

  <script>
    const SVG_URL = 'https://upload.wikimedia.org/wikipedia/commons/f/f1/Population_density_in_municipalities_of_Lithuania_%28blank%29.svg';

    // Tik Panevėžys
    const TARGETS = [
      'Panevėžio m. sav.',
      'Panevėžys city municipality'
    ];
    const LABELS = {
      'Panevėžio m. sav.': 'Panevėžys – pažymėta vietovė',
      'Panevėžys city municipality': 'Panevėžys – pažymėta vietovė'
    };

    (async function(){
      const host = document.getElementById('svg-host');
      const tip  = document.getElementById('tooltip');

      let svgText;
      try {
        const res = await fetch(SVG_URL);
        svgText = await res.text();
      } catch(err){
        host.textContent = 'Nepavyko užkrauti SVG';
        return;
      }

      host.innerHTML = svgText;
      const svg = host.querySelector('svg');
      if(!svg){ host.textContent = 'SVG nerastas'; return; }

      // Visus regionus paverčiam pilkais
      const all = Array.from(svg.querySelectorAll('path, polygon, polyline'));
      all.forEach((el, idx)=>{
        const t = (el.querySelector('title')?.textContent || '').trim();
        el.classList.add('region');
        el.removeAttribute('fill');
        el.style.fill = null;

        // Jei tai Panevėžys – padarom žalią
        if(TARGETS.includes(t)){
          el.classList.add('region-panevezys');
          el.addEventListener('mousemove', e=>{
            tip.textContent = LABELS[t] || t;
            const bounds = host.getBoundingClientRect();
            tip.style.transform = `translate(${e.clientX - bounds.left + 12}px, ${e.clientY - bounds.top - 10}px)`;
          });
          el.addEventListener('mouseleave', ()=> tip.style.transform = 'translate(-9999px,-9999px)');
        }
      });
    })();
  </script>
</body>
</html>


