<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lietuvos žemėlapis – Panevėžys žalias</title>
  <style>
    :root{ --grey:#bdbdbd; --stroke:#424242; --green:#1e8e3e; }
    html,body{margin:0;background:#111;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#fff}
    .map{position:relative}
    .map svg{display:block;width:100%;height:auto;background:#111}
    /* visi regionai pilki */
    .region{fill:var(--grey) !important; stroke:var(--stroke) !important; stroke-width:1 !important;}
    /* Panevėžys žalias */
    .region-panevezys{fill:var(--green) !important;}
    /* tooltip */
    .tooltip{position:absolute;transform:translate(-9999px,-9999px);
      background:#000;color:#fff;padding:6px 10px;border-radius:6px;
      font-size:13px;white-space:nowrap;pointer-events:none}
  </style>
</head>
<body>
  <div class="map" id="lt-map">
    <div id="svg-host" style="min-height:480px;display:flex;align-items:center;justify-content:center">Kraunamas žemėlapis…</div>
    <div class="tooltip" id="tooltip"></div>
  </div>

  <script>
    // Švarus administracinis Lietuvos žemėlapis
    const SVG_URL = 'https://upload.wikimedia.org/wikipedia/commons/3/3d/Lithuania_adm_location_map.svg';

    // Panevėžio pavadinimų variantai SVG faile
    const PANEVEZYS_TITLES = [
      'Panevėžio m. sav.',
      'Panevėžys city municipality',
      'Panevezio m. sav.',
      'Panevezys city municipality'
    ];

    (async function(){
      const host = document.getElementById('svg-host');
      const tip  = document.getElementById('tooltip');

      let svgText;
      try{
        const res = await fetch(SVG_URL, {mode:'cors'});
        if(!res.ok) throw new Error(res.status);
        svgText = await res.text();
      }catch(e){
        host.textContent = "Nepavyko užkrauti SVG: "+e.message;
        return;
      }

      host.innerHTML = svgText;
      const svg = host.querySelector('svg');
      if(!svg){ host.textContent = "SVG nerastas"; return; }

      // Nuvalom legendas, jei tokių būtų
      svg.querySelectorAll('rect, text').forEach(el=>el.remove());

      // Perdažom visus pilkai
      const shapes = Array.from(svg.querySelectorAll('path, polygon, polyline'));
      shapes.forEach(el=>{
        el.removeAttribute('fill');
        el.classList.add('region');
      });

      // Surandam Panevėžį
      let panevezysEl = null;
      shapes.forEach(el=>{
        const titleText = (el.querySelector('title')?.textContent || '').trim();
        if(PANEVEZYS_TITLES.includes(titleText)){
          el.classList.add('region-panevezys');
          panevezysEl = el;
        }
      });

      // Tooltip – tik Panevėžiui
      if(panevezysEl){
        panevezysEl.addEventListener('mousemove', e=>{
          const bounds = host.getBoundingClientRect();
          tip.textContent = "Mediena";
          tip.style.transform = `translate(${e.clientX - bounds.left + 12}px, ${e.clientY - bounds.top - 10}px)`;
        });
        panevezysEl.addEventListener('mouseleave', ()=> tip.style.transform = 'translate(-9999px,-9999px)');
      }
    })();
  </script>
</body>
</html>



